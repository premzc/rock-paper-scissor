<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <button class="rock">rock</button>
  <button class="paper">paper</button>
  <button class="scissor">scissor</button>
  <div>
    <p class="current-score"></p>
    <p class="final-score"></p>
    <p class="final-result"></p>
  </div>

  <script>

    const rockButton = document.querySelector('.rock');
    const paperButton = document.querySelector('.paper');
    const scissorButton = document.querySelector('.scissor');
    const currentScore = document.querySelector('.current-score');
    const finalScore = document.querySelector('.final-score');
    const finalResult = document.querySelector('.final-result');
     let playerScore = 0;
      let computerScore = 0;

     function reset() {
       window.location.reload()
      }

      function disbaleButtons(){
        rockButton.disabled = true;
        paperButton.disabled = true;
        scissorButton.disabled = true;
      }
    function getComputerChoice(){
      let computerChoice = '';
      let randomNumber = Math.floor(Math.random() * 3 + 1);
     // console.log(randomNumber); 
      if(randomNumber === 1){
        computerChoice = 'rock';
      }else if(randomNumber === 2){
        computerChoice ='paper';
      }else if(randomNumber === 3){
        computerChoice = 'scissor';
      }
      return computerChoice;
    }
   // console.log(getComputerChoice());

  //  let playerSelection = prompt('enter your choice?').toLowerCase();
    let computerSelection = getComputerChoice();
    console.log(`computermove ${computerSelection}`);



    function playRound(playerSelection, computerSelection){
      let result = " ";
      
     // console.log(playerSelection, computerSelection);
      //When player chooses 'scissors'
      if(playerSelection === 'scissor'){
        if(playerSelection === 'scissor' && computerSelection === 'rock'){
          console.log(`your choice: ${playerSelection}, Computer choice: ${computerSelection}`);
          result = "Rock beats Scissor, You lose !!";
         // console.log(result);
        }else if (playerSelection === 'scissor' && computerSelection === 'paper') {
          console.log(`your choice: ${playerSelection}, Computer choice: ${computerSelection}`);
          result = "scissors beats paper, You win !!";
         // console.log(result);
        } else if (playerSelection === 'scissor' && computerSelection === 'scissor') {
          console.log(`your choice: ${playerSelection}, Computer choice: ${computerSelection}`);
          result = "Its a tie play again!!";
          //console.log(result);
        }
        //when player chooses 'rock'
      }else if(playerSelection === 'rock') {
        if (playerSelection === 'rock' && computerSelection === 'rock') {
          console.log(`your choice: ${playerSelection}, Computer choice: ${computerSelection}`);
          result = "Its a tie play again!!";
        //  console.log(result);  
        }else if(playerSelection === 'rock' && computerSelection === 'paper') {
          console.log(`your choice: ${playerSelection}, Computer choice: ${computerSelection}`);
          result = "paper beats rock, you lose !!";
        //  console.log(result);
        }else if(playerSelection === 'rock' && computerSelection === 'scissor') {
          console.log(`your choice: ${playerSelection}, Computer choice: ${computerSelection}`);
        result = "Rock beats scissor, you win !!";
         // console.log(result);
        }
      //when player chooses 'paper'
    }else if(playerSelection === 'paper') {
        if(playerSelection === 'paper' && computerSelection === 'rock') {
          console.log(`your choice: ${playerSelection}, Computer choice: ${computerSelection}`);
        result = "paper beats rock, you win !!";
          console.log(result);
        }else if(playerSelection === 'paper' && computerSelection === 'paper') {
          console.log(`your choice: ${playerSelection}, Computer choice: ${computerSelection}`);
            result = "Its a tie play again!!";
         // console.log(result);  
        }else if(playerSelection === 'paper' && computerSelection === 'scissor') {
          console.log(`your choice: ${playerSelection}, Computer choice: ${computerSelection}`);
          result = "scissors beat paper, you lose !!";
          //console.log(result);
        }
      }
      
      if (result.includes("win")) {
        playerScore += 1;
      } else if (result.includes("lose")) {
        computerScore += 1 ;
      }
      currentScore.textContent = `you picked:- ${playerSelection}, player picked:- ${computerSelection}\n${result} player score: ${playerScore} computer score: ${computerScore}`;

         if (playerScore === 5) {
          currentScore.textContent = '';
        finalScore.textContent = `final score: player score: ${playerScore} computer score: ${computerScore}`;
        finalResult.textContent = "You won congratulations!!";
          disbaleButtons();
        setTimeout(reset, 5000);
      } else if (computerScore === 5) {
        currentScore.textContent = '';
        finalScore.textContent = `final score: player score: ${playerScore} computer score: ${computerScore}`;
        finalResult.textContent = "Better luck next time, computer won!!";
          disbaleButtons();
      setTimeout(reset, 5000);
      }
      
      return result;
    }
   // console.log(playRound(playerSelection,computerSelection));
   
   
   rockButton.addEventListener('click',() => {
     playRound('rock',getComputerChoice());
   });
  paperButton.addEventListener('click',() => {
     playRound('paper',getComputerChoice());
   });
   scissorButton.addEventListener('click',() => {
     playRound('scissor',getComputerChoice());
   });
   
   
  </script>
</body>
</html>